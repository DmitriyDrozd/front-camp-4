(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{339:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},340:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},341:function(t,e,n){var r=n(349),o=n(350);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},342:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},343:function(t,e,n){var r=n(351);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},344:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(339),o=n.n(r),i=n(340),c=n.n(i),s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(o()(this,t),!e)throw Error("No selector provided for View constructor!");if(this.selector=e,this.element=document.querySelector(e),this.children=[],!this.element)throw Error("No element found according to selector!");if(n&&0!==Object.getOwnPropertyNames(n).length)for(var r in n)this.subscribe(r,n[r])}return c()(t,[{key:"subscribe",value:function(t,e){this.element.addEventListener(t,e)}},{key:"render",value:function(){var t=this;this.removeChildrenFromDOM(),this.children.forEach(function(e){t.element.appendChild(e)})}},{key:"removeChildrenFromDOM",value:function(){for(;this.element.firstChild;)this.element.firstChild.remove()}}]),t}()},345:function(t,e,n){var r=n(346),o=n(347),i=n(348);t.exports=function(t){return r(t)||o(t)||i()}},346:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},347:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},348:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},349:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},350:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},351:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},358:function(t,e,n){"use strict";n.r(e);var r=n(64),o=n.n(r),i=n(91),c=n.n(i),s=n(339),a=n.n(s),u=n(340),l=n.n(u),f=n(345),h=n.n(f),p="apiKey=b9d575a774ac4011b9a10a7584c32ce1",d="".concat("https://newsapi.org/v2/","sources?"),m="".concat("https://newsapi.org/v2/","everything?");function v(){return y.apply(this,arguments)}function y(){return(y=c()(o.a.mark(function t(){var e,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(2).then(n.bind(null,357));case 2:return e=t.sent,r=e.default,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var w=new(function(){function t(){a()(this,t),this._apiKey=p,this._news={}}return l()(t,[{key:"getOptions",value:function(){var t=this,e="".concat(d).concat(this._apiKey);return fetch(e).then(function(t){return t.json()}).then(function(e){return t.options=e.sources,h()(t.options)})}},{key:"getNews",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(t){var r="".concat(m,"sources=").concat(t,"&pageSize=").concat(n,"&").concat(this._apiKey),i=this._news[t];return i&&i.length===n?i:fetch(r).then(function(n){if(!n.ok)throw n;var r=n.json();return e._news[t]=r.articles,h()(e._news[t])}).catch(function(){var t=c()(o.a.mark(function t(e){var n,r,i,c,s,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:if(n=t.sent,r=n.status,i=n.code,c=n.message,"error"!==r){t.next=12;break}return s={code:i,message:c},t.next=10,v();case 10:a=t.sent,new a(s);case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}}}]),t}()),g=n(341),b=n.n(g),k=n(342),x=n.n(k),E=n(343),O=n.n(E),S=n(344),_=function(t){function e(t){var n;a()(this,e);var r=t.events,o=t.data;return(n=b()(this,x()(e).call(this,"#categorySelect",r))).options=o,n}return O()(e,t),l()(e,[{key:"options",set:function(t){t.length?this.children=t.map(function(t){return e.createOption(t.name,t.id)}):this.children=[],this.render()},get:function(){return this.children}}],[{key:"createOption",value:function(t,e){var n=document.createElement("option");return n.value=e,n.text=t,n}}]),e}(S.a),N=function(t){function e(t){var n;a()(this,e);var r=t.events,o=t.data;return(n=b()(this,x()(e).call(this,"#newsList",r))).news=o||[],n}return O()(e,t),l()(e,[{key:"id",get:function(){return this.element.id}},{key:"news",set:function(t){t.length?this.children=t.map(e.createNewsItem):this.children=[],this.render()},get:function(){return this.children}}],[{key:"createNewsItem",value:function(t){var e=document.createElement("li"),n=Math.floor(4*Math.random())+1,r=t.urlToImage?'<img src="'.concat(t.urlToImage,'" alt="Image for ').concat(t.title,'" class="item-image">'):"",o="<a href=".concat(t.url,' target="_blank">'),i="";if(r.length>0)i='<div class="item-content with-image">'.concat(o).concat(r).concat(t.title).concat("</a>","</div>");else{var c=t.description||t.content;i='\n                    <div class="item-content">'.concat(o).concat(t.title).concat("</a>",'\n                        <p class="description">').concat(c,"</p>\n                    </div>")}return e.className="news-list-item color-".concat(n),e.innerHTML=i,e}}]),e}(S.a),j=8,L="lds-roller",B=function(){function t(e){var n=this;a()(this,t),this._id=e,this.spinner=document.createElement("div"),this.spinner.className=L,this.spinner.id=e,Array(j).fill(0).map(function(){return document.createElement("div")}).forEach(function(t){n.spinner.appendChild(t)})}return l()(t,[{key:"start",value:function(){var t=document.getElementById(this._id);t.childNodes.forEach(function(t){t.classList&&t.classList.add("hidden")}),t.appendChild(this.spinner)}},{key:"stop",value:function(){var t=document.getElementById(this._id);this.spinner.remove(),t.childNodes.forEach(function(t){t.classList&&t.classList.remove("hidden")})}}]),t}(),I=function(){function t(){var e=this;a()(this,t),this.navigationElement=document.getElementById("navigation"),this.selectElement=document.getElementById("categorySelect"),this.newsList=new N({data:[]}),this.categorySelect=new _({events:{change:function(t){return e.loadNews(t.target.value)}},data:[]}),this.prepareErrorButton()}return l()(t,[{key:"prepareErrorButton",value:function(){var t=this;this.errorButton=document.getElementById("showErrorButton"),this.errorButton.classList.remove("hidden"),this.errorButton.addEventListener("click",function(){return t.loadNews("random",1e5)})}},{key:"init",value:function(){var t=c()(o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.navigationElement.id,(n=new B(e)).start(),t.next=5,w.getOptions();case 5:if(r=t.sent){t.next=9;break}throw this.options=[],new Error("No source selected!");case 9:this.options=r,n.stop();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadNews",value:function(){var t=c()(o.a.mark(function t(e,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("No source selected!");case 2:return(r=new B(this.newsList.id)).start(),t.next=6,w.getNews(e,n);case 6:this.news=t.sent,r.stop();case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"options",set:function(t){this.categorySelect.options=t}},{key:"news",set:function(t){this.newsList.news=t||[]}}]),t}();e.default=I}}]);