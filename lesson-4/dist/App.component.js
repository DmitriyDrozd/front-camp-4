(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{339:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},340:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},341:function(t,e,n){var r=n(350),o=n(351);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},342:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},343:function(t,e,n){var r=n(352);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},344:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(339),o=n.n(r),i=n(340),s=n.n(i),c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(o()(this,t),!e)throw Error("No selector provided for View constructor!");if(this.selector=e,this.element=document.querySelector(e),this.children=[],!this.element)throw Error("No element found according to selector!");if(n&&0!==Object.getOwnPropertyNames(n).length)for(var r in n)this.subscribe(r,n[r])}return s()(t,[{key:"subscribe",value:function(t,e){this.element.addEventListener(t,e)}},{key:"render",value:function(){var t=this;this.removeChildrenFromDOM(),this.children.forEach(function(e){t.element.appendChild(e)})}},{key:"removeChildrenFromDOM",value:function(){for(;this.element.firstChild;)this.element.firstChild.remove()}}]),t}()},346:function(t,e,n){var r=n(347),o=n(348),i=n(349);t.exports=function(t){return r(t)||o(t)||i()}},347:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},348:function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},349:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},350:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},351:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},352:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},362:function(t,e,n){"use strict";n.r(e);var r,o,i=n(64),s=n.n(i),c=n(91),a=n.n(c),u=n(339),l=n.n(u),f=n(340),h=n.n(f),p=n(346),d=n.n(p),v=function(t,e,n){return fetch(t).then(e).catch(n)},m="apiKey=b9d575a774ac4011b9a10a7584c32ce1",y="".concat("https://newsapi.org/v2/","sources?"),w="".concat("https://newsapi.org/v2/","everything?");function b(){return g.apply(this,arguments)}function g(){return(g=a()(s.a.mark(function t(){var e,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(2).then(n.bind(null,361));case 2:return e=t.sent,r=e.default,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function k(t){return x.apply(this,arguments)}function x(){return(x=a()(s.a.mark(function t(e){var n,i,c,a,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:if(n=t.sent,i=n.status,c=n.code,a=n.message,"error"!==i){t.next=13;break}if(u={code:c,message:a},r){t.next=12;break}return t.next=11,b();case 11:o=t.sent;case 12:o.error=u;case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var E=new(function(){function t(){l()(this,t),this._apiKey=m,this._news={},this._handleSuccessOptions=this._handleSuccessOptions.bind(this),this._handleSuccessNews=this._handleSuccessNews.bind(this)}return h()(t,[{key:"getOptions",value:function(){var t="".concat(y).concat(this._apiKey);return v(t,this._handleSuccessOptions,k)}},{key:"getNews",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(t){var r="".concat(w,"sources=").concat(t,"&pageSize=").concat(n,"&").concat(this._apiKey),o=this._news[t];return o&&o.length===n?o:v(r,function(n){return e._handleSuccessNews(n,t)},k)}}},{key:"_handleSuccessOptions",value:function(){var t=a()(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw e;case 2:return t.next=4,e.json();case 4:return n=t.sent,this._options=n.sources,t.abrupt("return",d()(this._options));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_handleSuccessNews",value:function(){var t=a()(s.a.mark(function t(e,n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw e;case 2:return t.next=4,e.json();case 4:return r=t.sent,this._news[n]=r.articles,t.abrupt("return",d()(this._news[n]));case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}]),t}()),_=n(341),S=n.n(_),O=n(342),N=n.n(O),j=n(343),L=n.n(j),B=n(344),I=function(t){function e(t){var n;l()(this,e);var r=t.events,o=t.data;return(n=S()(this,N()(e).call(this,"#categorySelect",r))).options=o,n}return L()(e,t),h()(e,[{key:"options",set:function(t){t.length?this.children=t.map(function(t){return e.createOption(t.name,t.id)}):this.children=[],this.render()},get:function(){return this.children}}],[{key:"createOption",value:function(t,e){var n=document.createElement("option");return n.value=e,n.text=t,n}}]),e}(B.a),C=function(t){function e(t){var n;l()(this,e);var r=t.events,o=t.data;return(n=S()(this,N()(e).call(this,"#newsList",r))).news=o||[],n}return L()(e,t),h()(e,[{key:"id",get:function(){return this.element.id}},{key:"news",set:function(t){t.length?this.children=t.map(e.createNewsItem):this.children=[],this.render()},get:function(){return this.children}}],[{key:"createNewsItem",value:function(t){var e=document.createElement("li"),n=Math.floor(4*Math.random())+1,r=t.urlToImage?'<img src="'.concat(t.urlToImage,'" alt="Image for ').concat(t.title,'" class="item-image">'):"",o="<a href=".concat(t.url,' target="_blank">'),i="";if(r.length>0)i='<div class="item-content with-image">'.concat(o).concat(r).concat(t.title).concat("</a>","</div>");else{var s=t.description||t.content;i='\n                    <div class="item-content">'.concat(o).concat(t.title).concat("</a>",'\n                        <p class="description">').concat(s,"</p>\n                    </div>")}return e.className="news-list-item color-".concat(n),e.innerHTML=i,e}}]),e}(B.a),A=8,P="lds-roller",T=function(){function t(e){var n=this;l()(this,t),this._id=e,this.spinner=document.createElement("div"),this.spinner.className=P,this.spinner.id=e,Array(A).fill(0).map(function(){return document.createElement("div")}).forEach(function(t){n.spinner.appendChild(t)})}return h()(t,[{key:"start",value:function(){var t=document.getElementById(this._id);t.childNodes.forEach(function(t){t.classList&&t.classList.add("hidden")}),t.appendChild(this.spinner)}},{key:"stop",value:function(){var t=document.getElementById(this._id);this.spinner.remove(),t.childNodes.forEach(function(t){t.classList&&t.classList.remove("hidden")})}}]),t}(),M=function(){function t(){var e=this;l()(this,t),this.navigationElement=document.getElementById("navigation"),this.selectElement=document.getElementById("categorySelect"),this.newsList=new C({data:[]}),this.categorySelect=new I({events:{change:function(t){return e.loadNews(t.target.value)}},data:[]}),this.prepareErrorButton()}return h()(t,[{key:"prepareErrorButton",value:function(){var t=this;this.errorButton=document.getElementById("showErrorButton"),this.errorButton.classList.remove("hidden"),this.errorButton.addEventListener("click",function(){return t.loadNews("random",1e5)})}},{key:"init",value:function(){var t=a()(s.a.mark(function t(){var e,n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.navigationElement.id,(n=new T(e)).start(),t.next=5,E.getOptions();case 5:if(r=t.sent){t.next=9;break}throw this.options=[],new Error("No source selected!");case 9:this.options=r,n.stop();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadNews",value:function(){var t=a()(s.a.mark(function t(e,n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("No source selected!");case 2:return(r=new T(this.newsList.id)).start(),t.next=6,E.getNews(e,n);case 6:this.news=t.sent,r.stop();case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"options",set:function(t){this.categorySelect.options=t}},{key:"news",set:function(t){this.newsList.news=t||[]}}]),t}();e.default=M}}]);